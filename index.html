<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Interaktywny SVG z Poligonami</title>
    <style>
        /* Ustawienia SVG, aby było responsywne */
        svg {
            width: 100%;
            height: auto;
            display: block;
        }
        /* Stylizacja poligonów */
        .hover-polygon {
            fill: rgba(255, 0, 0, 0.5); /* Półprzezroczysty czerwony */
            opacity: 0; /* Początkowo niewidoczny */
            transition: opacity 0.3s ease;
            cursor: pointer;
        }
        /* Pokazywanie poligonu po najechaniu */
        .hover-polygon:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
<svg viewBox="0 0 100 56.5" xmlns="http://www.w3.org/2000/svg">
    <!-- Tło Obrazu -->
    <image
            href="assets/wiz.jpg"
            x="0"
            y="0"
            width="100"
            height="56.5"
            preserveAspectRatio="xMidYMid meet"
    />
    <polygon points="9.5,28.35 9.25,31.73 30.5,29.98 33.13,35.73 48.38,34.23 48.5,29.23 37.38,30.35 36.75,29.73 34.75,29.98 31.38,23.85 9.63,25.48" class="hover-polygon" data-id="polygon1" />
    <polygon points="31.38,23.85 34.5,28.35 36.75,28.35 37.38,28.98 49.5,27.85 49.13,19.48 45,10.35 44,10.23 44,11.35 32.38,11.85 32.13,10.73 31.5,10.73 31.38,11.85 30.25,16.35" class="hover-polygon" data-id="polygon2" />

    <!-- Dodaj więcej poligonów według potrzeb -->
</svg>

<script>
    // Funkcja do wysyłania wiadomości do strony nadrzędnej
    function wyslijWiadomosc(idPoligonu) {
        // Tworzymy obiekt wiadomości
        const wiadomosc = {
            typ: 'poligonKlikniety',
            id: idPoligonu
        };
        // Wysyłamy wiadomość do strony nadrzędnej
        window.parent.postMessage(wiadomosc, "*"); // Zamień "*" na konkretną domenę dla bezpieczeństwa
    }

    // Dodajemy nasłuchiwanie na kliknięcia poligonów
    document.addEventListener("DOMContentLoaded", function() {
        const poligony = document.querySelectorAll('.hover-polygon');
        poligony.forEach(poligon => {
            poligon.addEventListener('click', () => {
                const idPoligonu = poligon.getAttribute('data-id');
                wyslijWiadomosc(idPoligonu);
            });
        });
    });
</script>
</body>
</html>
